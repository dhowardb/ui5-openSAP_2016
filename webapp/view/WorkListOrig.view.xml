<mvc:View controllerName="week3.controller.Worklist" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.f.semantic" xmlns:l="sap.ui.layout">
    <semantic:SemanticPage id="page" headerPinnable="false" toggleHeaderOnTitleClick="false">
        <semantic:titleHeading>
            <Title id="_IDGenTitle1" text="{i18n>worklistTitle}" level="H2" />
        </semantic:titleHeading>

        <semantic:content>
            <IconTabBar id="idIconTabBar" select=".onFilterSelectHandler" class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter id="_IDGenIconTabFilter1" showAll="true" count="All" text="Products" key="All" />
                    <IconTabSeparator id="_IDGenIconTabSeparator1" />
                    <IconTabFilter id="_IDGenIconTabFilter2" icon="sap-icon://loan" iconColor="Positive" count="{worklistView>/Cheap}" text="Cheap" key="Cheap" />
                    <IconTabFilter id="_IDGenIconTabFilter3" icon="sap-icon://waiver" iconColor="Critical" count="{worklistView>/Moderate}" text="Moderate" key="Moderate" />
                    <IconTabFilter id="_IDGenIconTabFilter4" icon="sap-icon://money-bills" iconColor="Negative" count="{worklistView>/Expensive}" text="Expensive" key="Expensive" />
                </items>
                <content>
                    <Table
                        id="table"
                        width="auto"
                        items="{
                    path: '/Products',
                    sorter: {
                        path: 'ProductID',
                        descending: false
                    },
                    paramaters: {
                        expand: 'Supplier'
                    }
                }"
                        noDataText="{worklistView>/tableNoDataText}"
                        busyIndicatorDelay="{worklistView>/tableBusyDelay}"
                        growing="true"
                        growingScrollToLoad="true"
                        updateFinished=".onUpdateFinished"
                    >
                        <headerToolbar>
                            <OverflowToolbar id="_IDGenOverflowToolbar1">
                                <Title id="tableHeader" text="{worklistView>/worklistTableTitle}" level="H3" />
                                <ToolbarSpacer id="_IDGenToolbarSpacer1" />
                                <SearchField id="searchField" tooltip="{i18n>worklistSearchTooltip}" search=".onSearch">
                                    <layoutData>
                                        <OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" maxWidth="200px" priority="NeverOverflow" />
                                    </layoutData>
                                </SearchField>
                            </OverflowToolbar>
                        </headerToolbar>

                        <columns>
                            <Column id="nameColumn">
                                <Text text="{i18n>tableNameColumnTitle}" id="nameColumnTitle" />
                            </Column>
                            <!-- <Column id="QuantityPerUnitColumn">
                        <Text text="{i18n>quantityPerUnitTitle}" id="QuantityPerUnitTitle" demandPopin="true" minScreenWidth="Tablet" />
                    </Column> -->
                            <Column id="supplierColumn" demandPopin="true" minScreenWidth="Tablet">
                                <Text text="{i18n>supplierIDTitle}" id="supplierTitle" />
                            </Column>
                            <!-- <Column id="reOrderColumn">
                        <Text text="{i18n>reorderLevelTitle}" id="reorderLevelTitle" demandPopin="false" minScreenWidth="Tablet" />
                    </Column> -->
                            <Column id="supplierAddressColumn" demandPopin="false" minScreenWidth="Tablet">
                                <Text text="{i18n>supplierAddressTitle}" id="supplierAddressTitle" />
                            </Column>
                            <Column id="unitNumberColumn">
                                <Text text="{i18n>tableUnitNumberColumnTitle}" id="unitNumberColumnTitle" />
                            </Column>
                            <Column id="productStatusColumn" hAlign="End">
                                <Text text="Product Status" id="productStatusColumnTitle" />
                            </Column>
                        </columns>

                        <items>
                            <ColumnListItem id="_IDGenColumnListItem1" type="Navigation" press=".onPress">
                                <cells>
                                    <ObjectIdentifier id="_IDGenObjectIdentifier1" title="{ProductID}" text="{ProductName}" titleActive="true" titlePress="onShowDetailPopOver" />
                                    <Text id="_IDGenText1" text="{SupplierID}" />
                                    <Link id="_IDGenLink1" text="{Supplier/Address}" href="{Supplier/Address}" target="_blank" />
                                    <ObjectNumber id="_IDGenObjectNumber1" number="{
                                    path: 'UnitPrice',
                                    formatter: '.formatter.numberUnit'
                                }" />
                                    <ObjectIdentifier id="test" title="{Discontinued}" titleActive="true" titlePress="onShowStatusPopOver" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
            </IconTabBar>
        </semantic:content>

        <semantic:sendEmailAction>
            <semantic:SendEmailAction id="shareEmail" press=".onShareEmailPress" />
        </semantic:sendEmailAction>

        <semantic:dependents>
            <ResponsivePopover id="popOver" title="Stocks" class="sapUiPopWithPadding">
                <l:Grid>
                    <l:content>
                        <Text text="Units in Stock: { path: 'UnitsInStock', formatter: '.formatter.numberUnit'}" />
                        <Text text="Units on Order: { path: 'UnitsOnOrder', formatter: '.formatter.numberUnit'}" />
                        <Text text="Re-order Level: { path: 'ReorderLevel', formatter: '.formatter.numberUnit'}" />
                    </l:content>
                </l:Grid>
            </ResponsivePopover>
        </semantic:dependents>

        <semantic:dependents>
            <ResponsivePopover id="statusPopOver" title="Stocks" class="sapUiContentPadding" contentWidth="auto">
                <content>
                    <Text text="This product is { path: 'Discontinued', formatter: '.formatter.discontinued'}" textAlign="Begin" textDirection="LTR" />
                </content>
            </ResponsivePopover>
        </semantic:dependents>
    </semantic:SemanticPage>
</mvc:View>
